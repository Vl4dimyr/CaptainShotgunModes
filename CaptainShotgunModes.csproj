<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <BepInExPath>$(AppData)\r2modmanPlus-local\RiskOfRain2\profiles\CaptainShotgunModes\BepInEx</BepInExPath>

    <AssemblySearchPaths>
      $(BepInExPath)\plugins\tristanmcpherson-R2API\R2API;
      $(BepInExPath)\plugins\RiskofThunder-HookGenPatcher\MMHOOK;
      $(AssemblySearchPaths);
    </AssemblySearchPaths>

    <CopyDocumentationFileToOutputDirectory>False</CopyDocumentationFileToOutputDirectory>
    <CreateHardLinksForAdditionalFilesIfPossible>True</CreateHardLinksForAdditionalFilesIfPossible>
    <CreateHardLinksForCopyFilesToOutputDirectoryIfPossible>True</CreateHardLinksForCopyFilesToOutputDirectoryIfPossible>
    <DebugSymbols>False</DebugSymbols>
    <DebugType>None</DebugType>
    <GenerateDependencyFile>yiff</GenerateDependencyFile>
    <NoLogo>True</NoLogo>
    <Optimize>True</Optimize>
    <TargetFramework>netstandard2.1</TargetFramework>
    <TargetName>CaptainShotgunModes</TargetName>
  </PropertyGroup>

  <ItemGroup>
    <Reference Include="MMHOOK_Assembly-CSharp;R2API;">
      <Private>False</Private>
    </Reference>
    <PackageReference Include="BepInEx.BaseLib" Version="5.4.19" />
    <PackageReference Include="RiskOfRain2.GameLibs" Version="1.2.2-r.0" />
    <PackageReference Include="UnityEngine.Modules" Version="2022.1.0-beta.10" />
    <PackageReference Include="UnityEngine" Version="5.6.1" />
  </ItemGroup>

  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <Exec Command="powershell -executionpolicy remotesigned -File &quot;$(ProjectDir)dev\post_build.ps1&quot; $(TargetDir) $(TargetFileName) $(ProjectDir) $(SolutionName)" />
  </Target>

  <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
    <Exec Command="powershell -executionpolicy remotesigned -File &quot;$(ProjectDir)dev\pre_build.ps1&quot; $(ProjectDir) $(SolutionName)" />
  </Target>

</Project>
